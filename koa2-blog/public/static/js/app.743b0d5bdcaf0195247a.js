webpackJsonp([1],{"5IcJ":function(t,e){},Fkgb:function(t,e){},GgDs:function(t,e,s){"use strict";var a=s("H4Yc"),n=s.n(a),r=s("MFrp");var i=function(t){s("nHKm")},o=s("C7Lr")(n.a,r.a,!1,i,"data-v-55f458e3",null);e.default=o.exports},H4Yc:function(t,e){},MFrp:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"header-center clearfix"},[t._m(0),t._v(" "),s("ul",{staticClass:"header-right"},[t._m(1),t._v(" "),s("router-link",{attrs:{to:{path:"https://github.com/YangMr"},tag:"li"}},[s("a",[t._v("全部文章")])]),t._v(" "),s("router-link",{attrs:{to:{name:"signup"},tag:"li"}},[s("a",[t._v("注册")])]),t._v(" "),s("router-link",{attrs:{to:{name:"signin"},tag:"li"}},[s("a",[t._v("登陆")])])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header-left"},[e("div",{staticClass:"logo"}),this._v(" "),e("div",{staticClass:"welcome"},[this._v("欢迎登陆注册")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"https://github.com/YangMr"}},[this._v("Github")])])}]};e.a=a},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("xd7I"),n={components:{Header:s("GgDs").default}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Header"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var i=s("C7Lr")(n,r,!1,function(t){s("pHpZ")},null,null).exports,o=s("3XdE"),l=s("lO7g"),c={data:function(){return{register:{},imageUrl:""}},methods:{handleAvatarSuccess:function(t,e){this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload:function(t){var e="image/png"===t.type,s=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),s||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&s},send:function(){var t=this;this.$axios.post("/signup",{user:this.register,imgdata:this.imageUrl}).then(function(e){if("注册成功"==e.data.message){var s=t;t.$message({message:"注册成功",duration:1e3,type:"success",onClose:function(){s.$router.push({name:"signin"})}})}else"用户名已存在"==e.data.message?t.$message("用户名已存在"):"两次输入的密码不一致"==e.data.message&&t.$message("两次输入的密码不一致")}).catch(function(t){console.log(t)})}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"signup-center"},[s("div",{staticClass:"signup-box"},[s("div",{staticClass:"signup-title"},[t._v("注册")]),t._v(" "),s("div",{staticClass:"signup-inner"},[s("p",[s("label",{attrs:{for:""}},[t._v("用户名：")]),t._v(" "),s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.register.input,callback:function(e){t.$set(t.register,"input",e)},expression:"register.input"}})],1),t._v(" "),s("p",[s("label",{attrs:{for:""}},[t._v("密码：")]),t._v(" "),s("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:t.register.password,callback:function(e){t.$set(t.register,"password",e)},expression:"register.password"}})],1),t._v(" "),s("p",[s("label",{attrs:{for:""}},[t._v("重复密码：")]),t._v(" "),s("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:t.register.password2,callback:function(e){t.$set(t.register,"password2",e)},expression:"register.password2"}})],1),t._v(" "),s("p",[s("label",{attrs:{for:""}},[t._v("上传头像")]),t._v(" "),s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?s("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),s("p",[s("el-button",{staticClass:"register",attrs:{type:"success"},on:{click:t.send}},[t._v("注册")])],1)])])])},staticRenderFns:[]};var p=s("C7Lr")(c,u,!1,function(t){s("5IcJ")},"data-v-58416a87",null).exports,d=s("lC5x"),v=s.n(d),g=s("J0Oq"),f=s.n(g),h={data:function(){return{login:{}}},methods:{send:function(){var t=this;return f()(v.a.mark(function e(){var s,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.post("/signin",{data:t.login});case 2:s=e.sent,console.log(s),"登陆成功"==s.data.message?(a=t,t.$message({message:"登陆成功",duration:1e3,onClose:function(){a.$router.push({name:"home"})}})):t.$message({message:"用户名或密码错误",duration:1e3});case 5:case"end":return e.stop()}},e,t)}))()}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"signin-center"},[s("div",{staticClass:"signin-box"},[s("div",{staticClass:"signin-title"},[t._v("登陆")]),t._v(" "),s("div",{staticClass:"signin-inner"},[s("p",[s("label",{attrs:{for:""}},[t._v("用户名：")]),t._v(" "),s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.login.input,callback:function(e){t.$set(t.login,"input",e)},expression:"login.input"}})],1),t._v(" "),s("p",[s("label",{attrs:{for:""}},[t._v("密码：")]),t._v(" "),s("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}})],1),t._v(" "),s("p",[s("el-button",{staticClass:"login",attrs:{type:"success"},on:{click:t.send}},[t._v("登陆")])],1)])])])},staticRenderFns:[]};var _=s("C7Lr")(h,m,!1,function(t){s("Fkgb")},null,null).exports;a.default.use(o.a);var b=new o.a({routes:[{path:"/",name:"home",component:l.default},{path:"/signup",name:"signup",component:p},{path:"/signin",name:"signin",component:_}]}),C=s("cHER"),w=s.n(C),$=(s("SO90"),s("Qbok"),s("Muz9")),x=s.n($);a.default.use(w.a),a.default.prototype.$axios=x.a,x.a.defaults.baseURL="http://localhost:3000",a.default.config.productionTip=!1,new a.default({el:"#app",router:b,components:{App:i},template:"<App/>"})},Qbok:function(t,e){},SO90:function(t,e){},go6Y:function(t,e,s){"use strict";var a={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};e.a=a},jjzs:function(t,e){},"k0h+":function(t,e){},lO7g:function(t,e,s){"use strict";var a=s("jjzs"),n=s.n(a),r=s("go6Y");var i=function(t){s("k0h+")},o=s("C7Lr")(n.a,r.a,!1,i,null,null);e.default=o.exports},nHKm:function(t,e){},pHpZ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.743b0d5bdcaf0195247a.js.map